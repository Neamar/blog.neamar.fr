<!DOCTYPE html>
<html lang="en-gb" dir="ltr">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
    <base href="https://blog.neamar.fr" />
    <meta name="keywords" content="stack, flash, mathématiques, jeux" />
    <meta name="author" content="Neamar" />
    <meta name="description" content="Distributeur de liens !" />
    <meta name="generator" content="Joomla! - Open Source Content Management" />
    <title>La série des Stacks : CoinStack, BanknoteStack et MoneyStack</title>
    <link
      href="https://blog.neamar.fr/autres-articles/5-separating-axis-theorem-stack-serie"
      rel="canonical"
    />
    <link
      href="/templates/protostar/favicon.ico"
      rel="shortcut icon"
      type="image/vnd.microsoft.icon"
    />
    <link href="/templates/protostar/css/template.css" rel="stylesheet" />
    <link href="//fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" />
    <style>
      h1,
      h2,
      h3,
      h4,
      h5,
      h6,
      .site-title {
        font-family: "Open Sans", sans-serif;
      }
      body.site {
        border-top: 3px solid #0088cc;
        background-color: #f4f6f7;
      }
      a {
        color: #0088cc;
      }
      .nav-list > .active > a,
      .nav-list > .active > a:hover,
      .dropdown-menu li > a:hover,
      .dropdown-menu .active > a,
      .dropdown-menu .active > a:hover,
      .nav-pills > .active > a,
      .nav-pills > .active > a:hover,
      .btn-primary {
        background: #0088cc;
      }
    </style>
    <script src="/media/jui/js/jquery.min.js"></script>
    <script src="/media/jui/js/jquery-noconflict.js"></script>
    <script src="/media/jui/js/jquery-migrate.min.js"></script>
    <script src="/media/system/js/caption.js"></script>
    <script src="/media/jui/js/bootstrap.min.js"></script>
    <script src="/templates/protostar/js/template.js"></script>
    <script>
      jQuery(window).on("load", function () {
        new JCaption("img.caption");
      });
      jQuery(function ($) {
        $(".hasTooltip").tooltip({ html: true, container: "body" });
      });
    </script>

    <!--[if lt IE 9]><script src="/media/jui/js/html5.js"></script><![endif]-->
  </head>
  <body class="site com_content view-article no-layout no-task itemid-103">
    <!-- Body -->
    <div class="body">
      <div class="container">
        <!-- Header -->
        <header class="header" role="banner">
          <div class="header-inner clearfix">
            <a class="brand pull-left" href="/">
              <span class="site-title" title="Blog de Neamar"
                >Blog de Neamar</span
              >
            </a>
            <div class="header-search pull-right"></div>
          </div>
        </header>

        <div class="row-fluid">
          <main id="content" role="main" class="span9">
            <!-- Begin Content -->

            <div id="system-message-container"></div>

            <div
              class="item-page"
              itemscope
              itemtype="https://schema.org/Article"
            >
              <meta itemprop="inLanguage" content="en-GB" />

              <div class="page-header">
                <h2 itemprop="headline">
                  La série des Stacks : CoinStack, BanknoteStack et MoneyStack
                </h2>
              </div>

              <div class="icons">
                <div class="btn-group pull-right">
                  <a
                    class="btn dropdown-toggle"
                    data-toggle="dropdown"
                    href="#"
                  >
                    <span class="icon-cog"></span><span class="caret"></span>
                  </a>
                  <ul class="dropdown-menu"></ul>
                </div>
              </div>

              <dl class="article-info muted">
                <dt class="article-info-term">Details</dt>

                <dd
                  class="createdby"
                  itemprop="author"
                  itemscope
                  itemtype="https://schema.org/Person"
                >
                  Written by <span itemprop="name">Neamar</span>
                </dd>

                <dd class="category-name">
                  Category: <span itemprop="genre">Articles du blog</span>
                </dd>

                <dd class="create">
                  <span class="icon-calendar"></span>
                  <time
                    datetime="2009-09-03T16:28:13+00:00"
                    itemprop="dateCreated"
                  >
                    Created: 03 September 2009
                  </time>
                </dd>
                <dd class="modified">
                  <span class="icon-calendar"></span>
                  <time
                    datetime="2013-08-06T23:18:27+00:00"
                    itemprop="dateModified"
                  >
                    Last Updated: 06 August 2013
                  </time>
                </dd>
              </dl>

              <div itemprop="articleBody">
                <p>
                  Voilà une semaine paraissaient deux nouveaux jeux flash, qui
                  venaient conclure une mini-série de jeux flash intitulée sans
                  aucune originalité "Stacks".
                </p>
                <p> </p>
                <p>
                  Le principe est simple : une pile d'élements, on ne peut
                  ramasser un objet que s'il n'est pas recouvert par un autre
                  objet. Le but étant de récupérer le plus d'items en une
                  minute...
                </p>
                <p>
                  En usant ce concept jusqu'à la corde, on obtient les trois
                  jeux que je vais vous présenter...
                </p>
                <ul>
                  <li>
                    <img
                      src="https://sandbox.mochiads.com/c/g/coin-stack/_thumb_100x100.jpg"
                      border="0"
                      alt="Miniature de CoinStack"
                    /><a href="http://neamar.fr/Res/Coinstack"
                      >CoinStack : ramasser le plus de pièces possibles !</a
                    >
                    <em
                      >(ce jeu dispose d'une avance de deux mois sur les deux
                      autres)</em
                    >
                  </li>
                  <li>
                    <img
                      src="https://sandbox.mochiads.com/c/g/banknotestack/_thumb_100x100.png"
                      border="0"
                      alt="Miniature de BanknoteStack"
                    /><a href="http://neamar.fr/Res/Banknotestack"
                      >Banknotestack : ramasser le plus de billets possibles
                      !</a
                    >
                  </li>
                  <li>
                    <img
                      src="https://sandbox.mochiads.com/c/g/money-stack/_thumb_100x100.png"
                      border="0"
                      alt="Miniature de MoneyStack"
                    /><a href="http://neamar.fr/Res/MoneyStack"
                      >MoneyStack : ramasser le plus de monnaie possible !</a
                    >
                  </li>
                </ul>
                <p>
                  Dans la suite de ce billet, nous examinerons un côté un peu
                  plus technique des jeux...
                </p>
                <p> </p>

                <p> </p>
                <p>
                  On pourra légitimement se demander pourquoi CoinStack est
                  sorti avant les autres, puisque tous les jeux sont similaires.
                </p>
                <p> </p>
                <p>
                  En fait, CoinStack est le plus simple à programmer : il suffit
                  de tester la distance entre deux centres et de comparer avec
                  les rayons des cercles. Il faut bien sûr optimiser tout cela
                  pour ne pas se taper 500 comparaisons à chaque clic, mais rien
                  de bien complexe : en s'aidant du z-order de la pièce cliquée,
                  on peut facilement éviter de tester toutes celles en dessous.
                  Et logiquement, si le joueur a compris la règle, il y a peu de
                  pièces au dessus.
                </p>
                <p> </p>
                <p>
                  Pour BankNoteStack, le problème se complique. Car si la
                  rotation de cercle ne pose pas de problèmes, la rotation de
                  rectangles est une autre paire de manches.
                </p>
                <p> </p>
                <p>
                  Trouver si deux rectangles se chevauchent est un problème qui
                  sort de la trivialité dès que les angles respectifs des
                  rectangles sont différents de 0 degré. (on parle de collision
                  de rectangles) En fait, il faut utiliser un théorème
                  mathématique : le
                  <a href="http://en.wikipedia.org/wiki/Separating_axis_theorem"
                    >Separating Axis Theorem</a
                  >. Ceci nécessite de réaliser des projections selon les
                  différents axes des rectangles, et de comparer les
                  intersections selon chaque axe. Les techniques à maitriser ne
                  sont pas extrêmement complexes (en fait, n'importe quel lycéen
                  les maitrise : produits scalaire et vectoriels, normalisation
                  de vecteurs), mais leur agencement  sort largement du
                  programme de lycée.
                </p>
                <p>
                  Pour ceux qui seraient tentés par l'aventure, je ne peux que
                  vous conseiller
                  <a
                    href="http://www.metanetsoftware.com/technique/tutorialA.html"
                    title="SAT"
                    >cet excellent tutoriel</a
                  >
                  par les excellents créateurs de l'excellent jeu
                  <a href="http://www.thewayoftheninja.org/n.html">NGame</a>.
                </p>
                <p> </p>
                <p>
                  Enfin, pour MoneyStack, il faut mélanger joyeusement tout cela
                  (en considérant deux axes pour chaque cercle, orientés de la
                  même manière que les axes du rectangle).
                </p>
                <p>
                  <img
                    src="http://neamar.fr/Res/MoneyStack/Images/MoneyStack_3.png"
                    border="0"
                    alt="Image prise pendant le développement du moteur physique"
                    width="443"
                    height="358"
                  /><br />LA bonne nouvelle dans tout ça, c'est qu'une fois le
                  moteur physique réalisé, il n'y a plus qu'à
                  <a
                    href="http://neamar.fr/Res/MoneyStack/Code.php#Math%C3%A9matiques"
                    >hériter des classes abstraites SATCircle et SATRectangle</a
                  >
                  pour terminer le boulot.<br />
                  Bon jeu à tous !
                </p>
              </div>
            </div>

            <ul
              itemscope
              itemtype="https://schema.org/BreadcrumbList"
              class="breadcrumb"
            >
              <li>You are here: &#160;</li>

              <li
                itemprop="itemListElement"
                itemscope
                itemtype="https://schema.org/ListItem"
              >
                <a itemprop="item" href="/" class="pathway"
                  ><span itemprop="name">Home</span></a
                >

                <span class="divider">
                  <img src="/media/system/images/arrow.png" alt="" />
                </span>
                <meta itemprop="position" content="1" />
              </li>
              <li
                itemprop="itemListElement"
                itemscope
                itemtype="https://schema.org/ListItem"
              >
                <a itemprop="item" href="/autres-articles" class="pathway"
                  ><span itemprop="name">Articles du blog</span></a
                >

                <span class="divider">
                  <img src="/media/system/images/arrow.png" alt="" />
                </span>
                <meta itemprop="position" content="2" />
              </li>
              <li
                itemprop="itemListElement"
                itemscope
                itemtype="https://schema.org/ListItem"
                class="active"
              >
                <span itemprop="name">
                  La série des Stacks : CoinStack, BanknoteStack et MoneyStack
                </span>
                <meta itemprop="position" content="3" />
              </li>
            </ul>

            <!-- End Content -->
          </main>
          <div id="aside" class="span3">
            <!-- Begin Right Sidebar -->
            <div class="well _menu">
              <h3 class="page-header">Main Menu</h3>
              <ul class="nav menu">
                <li class="item-104 default"><a href="/">Blog de Neamar</a></li>
                <li class="item-103 current active">
                  <a href="/autres-articles">Articles du blog</a>
                </li>
                <li class="item-105">
                  <a href="/les-liens-du-jeudi">Les liens du jeudi</a>
                </li>
              </ul>
            </div>
            <!-- End Right Sidebar -->
          </div>
        </div>
      </div>
    </div>
    <!-- Footer -->
    <footer class="footer" role="contentinfo">
      <div class="container">
        <hr />

        <p class="pull-right">
          <a href="#" id="back-top"> Back to Top </a>
        </p>
        <p>&copy; 2024 Blog de Neamar</p>
      </div>
    </footer>
  </body>
</html>
